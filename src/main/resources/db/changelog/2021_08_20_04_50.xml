<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog
	xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
	xmlns:pro="http://www.liquibase.org/xml/ns/pro"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/pro http://www.liquibase.org/xml/ns/pro/liquibase-pro-4.1.xsd http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.1.xsd">
	<changeSet author="Admin (generated)" id="1629435058272-1">
		<createTable tableName="ex_district">
			<column name="district_code" type="VARCHAR(5)">
				<constraints nullable="false" primaryKey="true"
					primaryKeyName="ex_districtPK" />
			</column>
			<column name="created_by" type="VARCHAR(75)" />
			<column name="created_date" type="TIMESTAMP WITHOUT TIME ZONE" />
			<column name="last_modified_by" type="VARCHAR(75)" />
			<column name="last_modified_date"
				type="TIMESTAMP WITHOUT TIME ZONE" />
			<column name="description" type="VARCHAR(255)" />
			<column name="name" type="VARCHAR(255)">
				<constraints nullable="false" />
			</column>
			<column name="province_code" type="VARCHAR(5)">
				<constraints nullable="false" />
			</column>
			<column name="short_name" type="VARCHAR(255)" />
			<column defaultValueNumeric="1" name="status" type="SMALLINT">
				<constraints nullable="false" />
			</column>
			<column name="type" type="VARCHAR(30)">
				<constraints nullable="false" />
			</column>
		</createTable>
	</changeSet>
	<changeSet author="Admin (generated)" id="1629435058272-2">
		<createTable tableName="ex_province">
			<column name="province_code" type="VARCHAR(5)">
				<constraints nullable="false" primaryKey="true"
					primaryKeyName="ex_provincePK" />
			</column>
			<column name="created_by" type="VARCHAR(75)" />
			<column name="created_date" type="TIMESTAMP WITHOUT TIME ZONE" />
			<column name="last_modified_by" type="VARCHAR(75)" />
			<column name="last_modified_date"
				type="TIMESTAMP WITHOUT TIME ZONE" />
			<column name="coordinate" type="VARCHAR(255)" />
			<column name="description" type="VARCHAR(255)" />
			<column name="name" type="VARCHAR(255)">
				<constraints nullable="false" />
			</column>
			<column name="short_name" type="VARCHAR(255)" />
			<column defaultValueNumeric="1" name="status" type="SMALLINT">
				<constraints nullable="false" />
			</column>
			<column name="type" type="VARCHAR(30)">
				<constraints nullable="false" />
			</column>
		</createTable>
	</changeSet>
	<changeSet author="Admin (generated)" id="1629435058272-3">
		<createTable tableName="ex_ward">
			<column name="ward_code" type="VARCHAR(5)">
				<constraints nullable="false" primaryKey="true"
					primaryKeyName="ex_wardPK" />
			</column>
			<column name="created_by" type="VARCHAR(75)" />
			<column name="created_date" type="TIMESTAMP WITHOUT TIME ZONE" />
			<column name="last_modified_by" type="VARCHAR(75)" />
			<column name="last_modified_date"
				type="TIMESTAMP WITHOUT TIME ZONE" />
			<column name="description" type="VARCHAR(255)" />
			<column name="district_code" type="VARCHAR(5)">
				<constraints nullable="false" />
			</column>
			<column name="name" type="VARCHAR(255)">
				<constraints nullable="false" />
			</column>
			<column name="short_name" type="VARCHAR(255)" />
			<column defaultValueNumeric="1" name="status" type="SMALLINT">
				<constraints nullable="false" />
			</column>
			<column name="type" type="VARCHAR(30)">
				<constraints nullable="false" />
			</column>
		</createTable>
	</changeSet>
	<changeSet author="Admin (generated)" id="1629435058272-4">
		<createTable tableName="file_entry">
			<column autoIncrement="true" name="id" type="BIGINT">
				<constraints nullable="false" primaryKey="true"
					primaryKeyName="file_entryPK" />
			</column>
			<column name="created_by" type="VARCHAR(75)" />
			<column name="created_date" type="TIMESTAMP WITHOUT TIME ZONE" />
			<column name="last_modified_by" type="VARCHAR(75)" />
			<column name="last_modified_date"
				type="TIMESTAMP WITHOUT TIME ZONE" />
			<column name="class_name" type="VARCHAR(100)" />
			<column name="class_pk" type="BIGINT" />
			<column name="content_type" type="VARCHAR(255)" />
			<column name="description" type="VARCHAR(255)" />
			<column name="name" type="VARCHAR(255)" />
			<column name="original_name" type="VARCHAR(255)" />
			<column name="size" type="BIGINT" />
			<column name="folder_id" type="BIGINT" />
		</createTable>
	</changeSet>
	<changeSet author="Admin (generated)" id="1629435058272-5">
		<createTable tableName="folder_entry">
			<column autoIncrement="true" name="id" type="BIGINT">
				<constraints nullable="false" primaryKey="true"
					primaryKeyName="folder_entryPK" />
			</column>
			<column name="created_by" type="VARCHAR(75)" />
			<column name="created_date" type="TIMESTAMP WITHOUT TIME ZONE" />
			<column name="last_modified_by" type="VARCHAR(75)" />
			<column name="last_modified_date"
				type="TIMESTAMP WITHOUT TIME ZONE" />
			<column name="description" type="VARCHAR(255)" />
			<column name="file_count" type="INTEGER" />
			<column name="name" type="VARCHAR(255)" />
			<column name="parent_folder_id" type="BIGINT" />
		</createTable>
	</changeSet>
	<changeSet author="Admin (generated)" id="1629435058272-6">
		<createTable tableName="privilege">
			<column name="id" type="BIGINT">
				<constraints nullable="false" primaryKey="true"
					primaryKeyName="privilegePK" />
			</column>
			<column name="description" type="VARCHAR(255)" />
			<column name="name" type="VARCHAR(255)" />
		</createTable>
	</changeSet>
	<changeSet author="Admin (generated)" id="1629435058272-7">
		<createTable tableName="role">
			<column autoIncrement="true" name="id" type="BIGINT">
				<constraints nullable="false" primaryKey="true"
					primaryKeyName="rolePK" />
			</column>
			<column name="created_by" type="VARCHAR(75)" />
			<column name="created_date" type="TIMESTAMP WITHOUT TIME ZONE" />
			<column name="last_modified_by" type="VARCHAR(75)" />
			<column name="last_modified_date"
				type="TIMESTAMP WITHOUT TIME ZONE" />
			<column defaultValueNumeric="1" name="assignable"
				type="SMALLINT">
				<constraints nullable="false" />
			</column>
			<column name="description" type="VARCHAR(255)" />
			<column defaultValueNumeric="0" name="immutable"
				type="SMALLINT">
				<constraints nullable="false" />
			</column>
			<column defaultValueNumeric="10" name="level" type="INTEGER">
				<constraints nullable="false" />
			</column>
			<column name="name" type="VARCHAR(255)">
				<constraints nullable="false" />
			</column>
			<column defaultValueNumeric="1" name="status" type="SMALLINT">
				<constraints nullable="false" />
			</column>
		</createTable>
	</changeSet>
	<changeSet author="Admin (generated)" id="1629435058272-8">
		<createTable tableName="roles_privileges">
			<column name="role_id" type="BIGINT">
				<constraints nullable="false" />
			</column>
			<column name="privilege_id" type="BIGINT">
				<constraints nullable="false" />
			</column>
		</createTable>
	</changeSet>
	<changeSet author="Admin (generated)" id="1629435058272-9">
		<createTable tableName="user_">
			<column autoIncrement="true" name="id" type="BIGINT">
				<constraints nullable="false" primaryKey="true"
					primaryKeyName="user_PK" />
			</column>
			<column name="created_by" type="VARCHAR(75)" />
			<column name="created_date" type="TIMESTAMP WITHOUT TIME ZONE" />
			<column name="last_modified_by" type="VARCHAR(75)" />
			<column name="last_modified_date"
				type="TIMESTAMP WITHOUT TIME ZONE" />
			<column name="date_of_birth"
				type="TIMESTAMP WITHOUT TIME ZONE" />
			<column name="description" type="VARCHAR(255)" />
			<column name="email" type="VARCHAR(255)" />
			<column name="fullname" type="VARCHAR(255)" />
			<column name="password" type="VARCHAR(255)">
				<constraints nullable="false" />
			</column>
			<column name="phone_number" type="VARCHAR(255)" />
			<column defaultValueNumeric="1" name="role_updatable"
				type="SMALLINT">
				<constraints nullable="false" />
			</column>
			<column defaultValueNumeric="1" name="status" type="SMALLINT">
				<constraints nullable="false" />
			</column>
			<column name="username" type="VARCHAR(75)">
				<constraints nullable="false" />
			</column>
		</createTable>
	</changeSet>
	<changeSet author="Admin (generated)" id="1629435058272-10">
		<createTable tableName="user_login">
			<column autoIncrement="true" name="id" type="BIGINT">
				<constraints nullable="false" primaryKey="true"
					primaryKeyName="user_loginPK" />
			</column>
			<column name="description" type="VARCHAR(255)" />
			<column name="ip" type="VARCHAR(75)" />
			<column name="login_time" type="TIMESTAMP WITHOUT TIME ZONE" />
			<column defaultValueNumeric="1" name="success" type="SMALLINT">
				<constraints nullable="false" />
			</column>
			<column name="username" type="VARCHAR(75)" />
		</createTable>
	</changeSet>
	<changeSet author="Admin (generated)" id="1629435058272-11">
		<createTable tableName="user_roles">
			<column name="user_id" type="BIGINT">
				<constraints nullable="false" />
			</column>
			<column name="role_id" type="BIGINT">
				<constraints nullable="false" />
			</column>
		</createTable>
	</changeSet>
	<changeSet author="Admin (generated)" id="1629435058272-12">
		<addUniqueConstraint columnNames="district_code"
			constraintName="UC_EX_DISTRICTDISTRICT_CODE_COL"
			tableName="ex_district" />
	</changeSet>
	<changeSet author="Admin (generated)" id="1629435058272-13">
		<addUniqueConstraint columnNames="province_code"
			constraintName="UC_EX_PROVINCEPROVINCE_CODE_COL"
			tableName="ex_province" />
	</changeSet>
	<changeSet author="Admin (generated)" id="1629435058272-14">
		<addUniqueConstraint columnNames="ward_code"
			constraintName="UC_EX_WARDWARD_CODE_COL" tableName="ex_ward" />
	</changeSet>
	<changeSet author="Admin (generated)" id="1629435058272-15">
		<addUniqueConstraint columnNames="name"
			constraintName="UC_ROLENAME_COL" tableName="role" />
	</changeSet>
	<changeSet author="Admin (generated)" id="1629435058272-16">
		<addUniqueConstraint columnNames="email"
			constraintName="UC_USER_EMAIL_COL" tableName="user_" />
	</changeSet>
	<changeSet author="Admin (generated)" id="1629435058272-17">
		<addUniqueConstraint columnNames="username"
			constraintName="UC_USER_USERNAME_COL" tableName="user_" />
	</changeSet>
	<changeSet author="Admin (generated)" id="1629435058272-19">
		<addForeignKeyConstraint
			baseColumnNames="privilege_id" baseTableName="roles_privileges"
			constraintName="FK_roles_privileges_privilege_id" deferrable="false"
			initiallyDeferred="false" referencedColumnNames="id"
			referencedTableName="privilege" validate="true" />
	</changeSet>
	<changeSet author="Admin (generated)" id="1629435058272-20">
		<addForeignKeyConstraint
			baseColumnNames="parent_folder_id" baseTableName="folder_entry"
			constraintName="FK_folder_entry_parent_folder_id" deferrable="false"
			initiallyDeferred="false" referencedColumnNames="id"
			referencedTableName="folder_entry" validate="true" />
	</changeSet>
	<changeSet author="Admin (generated)" id="1629435058272-21">
		<addForeignKeyConstraint
			baseColumnNames="role_id" baseTableName="roles_privileges"
			constraintName="FK_roles_privileges_role_id" deferrable="false"
			initiallyDeferred="false" referencedColumnNames="id"
			referencedTableName="role" validate="true" />
	</changeSet>
	<changeSet author="Admin (generated)" id="1629435058272-22">
		<addForeignKeyConstraint
			baseColumnNames="user_id" baseTableName="user_roles"
			constraintName="FK_user_roles_user_id" deferrable="false"
			initiallyDeferred="false" referencedColumnNames="id"
			referencedTableName="user_" validate="true" />
	</changeSet>
	<changeSet author="Admin (generated)" id="1629435058272-23">
		<addForeignKeyConstraint
			baseColumnNames="role_id" baseTableName="user_roles"
			constraintName="FK_user_roles_role_id" deferrable="false"
			initiallyDeferred="false" referencedColumnNames="id"
			referencedTableName="role" validate="true" />
	</changeSet>
	<changeSet author="Admin (generated)" id="1629435058272-24">
		<addForeignKeyConstraint
			baseColumnNames="folder_id" baseTableName="file_entry"
			constraintName="FK_file_entry_folder_id" deferrable="false"
			initiallyDeferred="false" referencedColumnNames="id"
			referencedTableName="folder_entry" validate="true" />
	</changeSet>
</databaseChangeLog>
